
<td-layout>
  <td-navigation-drawer flex sidenavTitle="Clinical Assurance Tool" name="{{userName}}" email="{{email}}">
    <mat-nav-list>
      <a mat-list-item href="home"><mat-icon>person</mat-icon>Patient</a>
      <a mat-list-item href="open"><mat-icon>note_addd</mat-icon>Import Document</a>
      <mat-divider></mat-divider>
      <a mat-list-item href="logout"><mat-icon>exit_to_app</mat-icon>Logout</a>
    </mat-nav-list>
    <div td-navigation-drawer-menu>
      <mat-nav-list>
        <a mat-list-item><mat-icon>account_box</mat-icon>Profile</a>
      </mat-nav-list>
    </div>
  </td-navigation-drawer>
  <td-layout-nav toolbarTitle="Clinical Assurance Tool" navigationRoute="/epr">
    <button mat-icon-button td-menu-button tdLayoutToggle>
      <mat-icon>menu</mat-icon>
    </button>
    <td-layout-manage-list [opened]="patientEprService.patient != undefined && showMenu" mode="side">
      <mat-toolbar td-sidenav-content>Medical Records</mat-toolbar>
      <div td-sidenav-content>
        <mat-nav-list>
          <span *ngIf="patientEprService.patient != undefined">
            <a mat-list-item routerLink="/epr/{{patientEprService.patient.id}}/documents"><mat-icon>note</mat-icon>Documents</a>
            <a mat-list-item routerLink="/epr/{{patientEprService.patient.id}}/encounters"><mat-icon fontSet="fa" fontIcon="fa-user-md"></mat-icon>Encounters</a>
            <a mat-list-item routerLink="/epr/{{patientEprService.patient.id}}/observations"><mat-icon fontSet="fa" fontIcon="fa-heartbeat"></mat-icon>Observations</a>
            <a mat-list-item routerLink="/epr/{{patientEprService.patient.id}}/immunisations"><mat-icon>timeline</mat-icon>Immunisations</a>
            <a mat-list-item routerLink="/epr/{{patientEprService.patient.id}}/conditions"><mat-icon>local_hotel</mat-icon>Conditions</a>
            <a mat-list-item routerLink="/epr/{{patientEprService.patient.id}}/procedures"><mat-icon fontSet="fa" fontIcon="fa-stethoscope"></mat-icon>Procedures</a>
            <a mat-list-item routerLink="/epr/{{patientEprService.patient.id}}/prescriptions"><mat-icon fontSet="fa" fontIcon="fa-file-prescription"></mat-icon>Prescriptions</a>
            <a mat-list-item routerLink="/epr/{{patientEprService.patient.id}}/medicationbag"><mat-icon fontSet="fa" fontIcon="fa-file-prescription"></mat-icon>Medication Bag</a>
             <a mat-list-item routerLink="/epr/{{patientEprService.patient.id}}/allergy"><mat-icon fontSet="fa" fontIcon="fa-file-prescription"></mat-icon>Allergies</a>

            <!-- <mat-divider></mat-divider>
              Smart on FHIR Apps
              <mat-divider></mat-divider>
              <a mat-list-item (click)="growthApp()"><mat-icon>bar_chart</mat-icon>Growth Chart</a>
              <a mat-list-item (click)="cardiacApp()"><mat-icon>favorite</mat-icon>Cardiac Risk</a> -->
          </span>
        </mat-nav-list>
      </div>
      <mat-toolbar>

        <span *ngIf="patient != undefined">
            <a (click)="menuToggle()">
              <span *ngIf="showMenu">
                <mat-icon color="accent">first_page</mat-icon>
              </span>
              <span *ngIf="!showMenu">
                <mat-icon color="accent">last_page</mat-icon>
              </span>
            </a>
            <span> &nbsp;  <b>{{ getLastName() }}</b> {{ getFirstName() }}</span>
            <span class="fill-remaining-space"></span>
            <span>
               &nbsp; <i>DOB: </i><b>{{patient.birthDate | date: 'dd-MMM-yyyy'}}</b>
            </span>
            <span class="fill-remaining-space"></span>
            <span>
               &nbsp;<i>Gender: </i><b>{{ patient.gender }}</b>
            </span>
            <span class="fill-remaining-space"></span>
            <span>
               &nbsp;<i>NHS No: </i><b>{{ getNHSIdentifier() }}</b>
            </span>
          </span>
      <!--  <button mat-button tdLayoutManageListToggle>
          Toggle
        </button> -->
      </mat-toolbar>
      <router-outlet></router-outlet>
    </td-layout-manage-list>
  </td-layout-nav>
</td-layout>

